##################################################
# Mosquitto Broker Configuration
# Dual listeners: Insecure (1883) + Secure (8883)
##################################################

# ========================
# INSECURE LISTENER (open)
# ========================
listener 1883
protocol mqtt
allow_anonymous true

# ========================
# SECURE LISTENER (TLS)
# ========================
listener 8883
protocol mqtt
cafile /mosquitto/config/certs/ca.crt
certfile /mosquitto/config/certs/server.crt
keyfile /mosquitto/config/certs/server.key

# For now we donâ€™t require client certificates
require_certificate false

# ========================
# DATA & LOG SETTINGS
# ========================
persistence true
persistence_location /mosquitto/data/

# Log file inside container
log_dest file /mosquitto/log/mosquitto.log

# Optional: also log to console (good for Docker)
log_dest stdout

# ========================
# Security Notes
# ========================
# In production:
# - set allow_anonymous false
# - use password_file /mosquitto/config/passwordfile
##################################################
